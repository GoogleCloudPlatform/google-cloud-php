{"id":"bigquery\/queryjobconfiguration","type":"","title":"Google\\Cloud\\BigQuery\\QueryJobConfiguration","name":"QueryJobConfiguration","description":"<p>Represents a configuration for a query job. For more information on the\navailable settings please see the\n<a href=\"https:\/\/cloud.google.com\/bigquery\/docs\/reference\/rest\/v2\/jobs#configuration\">Jobs configuration API documentation<\/a>.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\BigQuery\\BigQueryClient;\n\n$bigQuery = new BigQueryClient();\n$query = $bigQuery->query('SELECT commit FROM `bigquery-public-data.github_repos.commits` LIMIT 100');"}],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"src\/BigQuery\/QueryJobConfiguration.php#L47","description":"","examples":[],"resources":[],"params":[{"name":"mapper","description":"<p>Maps values between PHP and BigQuery.<\/p>","types":["<a data-custom-type=\"bigquery\/valuemapper\">Google\\Cloud\\BigQuery\\ValueMapper<\/a>"],"optional":false,"nullable":null},{"name":"projectId","description":"<p>The project's ID.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"config","description":"<p>A set of configuration options for a job.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]},{"id":"allowLargeResults","type":"instance","name":"allowLargeResults","source":"src\/BigQuery\/QueryJobConfiguration.php#L72","description":"<p>Sets whether or not the query can produce arbitrarily large result\ntables at a slight cost in performance. Only applies to queries\nperformed with legacy SQL dialect and requires a\n<a data-custom-type=\"bigquery\/queryjobconfiguration\" data-method=\"destinationTable\">Google\\Cloud\\BigQuery\\QueryJobConfiguration::destinationTable()<\/a> to\nbe set.<\/p>","examples":[{"caption":"","code":"$query->allowLargeResults(true);"}],"resources":[],"params":[{"name":"allowLargeResults","description":"<p>Whether or not to allow large result sets.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"createDisposition","type":"instance","name":"createDisposition","source":"src\/BigQuery\/QueryJobConfiguration.php#L91","description":"<p>Sets whether the job is allowed to create new tables.<\/p>","examples":[{"caption":"","code":"$query->createDisposition('CREATE_NEVER');"}],"resources":[],"params":[{"name":"createDisposition","description":"<p>The create disposition. Acceptable\nvalues include <code>\"CREATE_IF_NEEDED\"<\/code>, <code>\"CREATE_NEVER\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"defaultDataset","type":"instance","name":"defaultDataset","source":"src\/BigQuery\/QueryJobConfiguration.php#L110","description":"<p>Sets the default dataset to use for unqualified table names in the query.<\/p>","examples":[{"caption":"","code":"$dataset = $bigQuery->dataset('my_dataset');\n$query->defaultDataset($dataset);"}],"resources":[],"params":[{"name":"defaultDataset","description":"<p>The default dataset.<\/p>","types":["<a data-custom-type=\"bigquery\/dataset\">Google\\Cloud\\BigQuery\\Dataset<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"destinationEncryptionConfiguration","type":"instance","name":"destinationEncryptionConfiguration","source":"src\/BigQuery\/QueryJobConfiguration.php#L130","description":"<p>Sets the custom encryption configuration (e.g., Cloud KMS keys).<\/p>","examples":[{"caption":"","code":"$query->destinationEncryptionConfiguration([\n    'kmsKeyName' => 'my_key'\n]);"}],"resources":[],"params":[{"name":"configuration","description":"<p>Custom encryption configuration.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"destinationTable","type":"instance","name":"destinationTable","source":"src\/BigQuery\/QueryJobConfiguration.php#L152","description":"<p>Sets the table where the query results should be stored. If not set, a\nnew table will be created to store the results. This property must be set\nfor large results that exceed the maximum response size.<\/p>","examples":[{"caption":"","code":"$table = $bigQuery->dataset('my_dataset')\n    ->table('my_table');\n$query->destinationTable($table);"}],"resources":[],"params":[{"name":"destinationTable","description":"<p>The destination table.<\/p>","types":["<a data-custom-type=\"bigquery\/table\">Google\\Cloud\\BigQuery\\Table<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"flattenResults","type":"instance","name":"flattenResults","source":"src\/BigQuery\/QueryJobConfiguration.php#L174","description":"<p>Sets whether or not to flatten all nested and repeated fields in the\nquery results. Only applies to queries performed with legacy SQL dialect.<\/p>\n<p><a data-custom-type=\"bigquery\/queryjobconfiguration\" data-method=\"allowLargeResults\">Google\\Cloud\\BigQuery\\QueryJobConfiguration::allowLargeResults()<\/a>\nmust be true if this is set to false.<\/p>","examples":[{"caption":"","code":"$query->useLegacySql(true)\n    ->flattenResults(true);"}],"resources":[],"params":[{"name":"flattenResults","description":"<p>Whether or not to flatten results.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"maximumBillingTier","type":"instance","name":"maximumBillingTier","source":"src\/BigQuery\/QueryJobConfiguration.php#L196","description":"<p>Sets the billing tier limit for this job. Queries that have resource\nusage beyond this tier will fail (without incurring a charge). If\nunspecified, this will be set to your project default.<\/p>","examples":[{"caption":"","code":"$query->maximumBillingTier(1);"}],"resources":[{"title":"High-Compute queries","link":"https:\/\/cloud.google.com\/bigquery\/pricing#high-compute"}],"params":[{"name":"maximumBillingTier","description":"<p>The maximum billing tier.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"maximumBytesBilled","type":"instance","name":"maximumBytesBilled","source":"src\/BigQuery\/QueryJobConfiguration.php#L216","description":"<p>Sets a bytes billed limit for this job. Queries that will have bytes\nbilled beyond this limit will fail (without incurring a charge). If\nunspecified, this will be set to your project default.<\/p>","examples":[{"caption":"","code":"$query->maximumBytesBilled(3000);"}],"resources":[],"params":[{"name":"maximumBytesBilled","description":"<p>The maximum allowable bytes to bill.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"parameters","type":"instance","name":"parameters","source":"src\/BigQuery\/QueryJobConfiguration.php#L236","description":"<p>Sets parameters to be used on the query. Only available for standard SQL\nqueries.<\/p>\n<p>For examples of usage please see\n<a data-custom-type=\"bigquery\/bigqueryclient\" data-method=\"runQuery\">Google\\Cloud\\BigQuery\\BigQueryClient::runQuery()<\/a>.<\/p>","examples":[],"resources":[],"params":[{"name":"parameters","description":"<p>Parameters to use on the query. When providing\na non-associative array positional parameters (<code>?<\/code>) will be used.\nWhen providing an associative array named parameters will be used\n(<code>@name<\/code>).<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"priority","type":"instance","name":"priority","source":"src\/BigQuery\/QueryJobConfiguration.php#L270","description":"<p>Sets a priority for the query.<\/p>","examples":[{"caption":"","code":"$query->priority('BATCH');"}],"resources":[],"params":[{"name":"priority","description":"<p>The priority. Acceptable values include\n<code>\"INTERACTIVE\"<\/code>, <code>\"BATCH\"<\/code>. <strong>Defaults to<\/strong> <code>\"INTERACTIVE\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"query","type":"instance","name":"query","source":"src\/BigQuery\/QueryJobConfiguration.php#L290","description":"<p>Sets the SQL query.<\/p>","examples":[{"caption":"","code":"$query->query(\n    'SELECT commit FROM `bigquery-public-data.github_repos.commits` LIMIT 100'\n);"}],"resources":[],"params":[{"name":"query","description":"<p>SQL query text to execute.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"schemaUpdateOptions","type":"instance","name":"schemaUpdateOptions","source":"src\/BigQuery\/QueryJobConfiguration.php#L318","description":"<p>Sets options to allow the schema of the destination table to be updated\nas a side effect of the query job. Schema update options are supported\nin two cases: when writeDisposition is <code>\"WRITE_APPEND\"<\/code>; when\nwriteDisposition is <code>\"WRITE_TRUNCATE\"<\/code> and the destination table is a\npartition of a table, specified by partition decorators. For normal\ntables, <code>\"WRITE_TRUNCATE\"<\/code> will always overwrite the schema.<\/p>","examples":[{"caption":"","code":"$query->schemaUpdateOptions([\n    'ALLOW_FIELD_ADDITION'\n]);"}],"resources":[],"params":[{"name":"schemaUpdateOptions","description":"<p>Schema update options. Acceptable\nvalues include <code>\"ALLOW_FIELD_ADDITION\"<\/code> (allow adding a nullable\nfield to the schema),  <code>\"ALLOW_FIELD_RELAXATION\"<\/code> (allow relaxing\na required field in the original schema to nullable).<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"tableDefinitions","type":"instance","name":"tableDefinitions","source":"src\/BigQuery\/QueryJobConfiguration.php#L343","description":"<p>Sets table definitions for querying an external data source outside of\nBigQuery. Describes the data format, location and other properties of the\ndata source.<\/p>","examples":[{"caption":"","code":"$query->tableDefinitions([\n    'autodetect' => true,\n    'sourceUris' => [\n        'gs:\/\/my_bucket\/table.json'\n    ]\n]);"}],"resources":[],"params":[{"name":"tableDefinitions","description":"<p>The table definitions.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"timePartitioning","type":"instance","name":"timePartitioning","source":"src\/BigQuery\/QueryJobConfiguration.php#L363","description":"<p>Sets time-based partitioning for the destination table.<\/p>","examples":[{"caption":"","code":"$query->timePartitioning([\n    'type' => 'DAY'\n]);"}],"resources":[],"params":[{"name":"timePartitioning","description":"<p>Time-based partitioning configuration.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"useLegacySql","type":"instance","name":"useLegacySql","source":"src\/BigQuery\/QueryJobConfiguration.php#L382","description":"<p>Sets whether or not to use legacy SQL dialect. When not set, defaults to\nfalse in this client.<\/p>","examples":[{"caption":"","code":"$query->useLegacySql(true);"}],"resources":[],"params":[{"name":"useLegacySql","description":"<p>Whether or not to use legacy SQL dialect.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"useQueryCache","type":"instance","name":"useQueryCache","source":"src\/BigQuery\/QueryJobConfiguration.php#L402","description":"<p>Sets whether or not to use the query cache.<\/p>","examples":[{"caption":"","code":"$query->useQueryCache(true);"}],"resources":[{"title":"Query Caching","link":"https:\/\/cloud.google.com\/bigquery\/querying-data#query-caching"}],"params":[{"name":"useQueryCache","description":"<p>Whether or not to use the query cache.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"userDefinedFunctionResources","type":"instance","name":"userDefinedFunctionResources","source":"src\/BigQuery\/QueryJobConfiguration.php#L424","description":"<p>Sets user-defined function resources used in the query.<\/p>","examples":[{"caption":"","code":"$query->userDefinedFunctionResources([\n    ['resourceUri' => 'gs:\/\/my_bucket\/code_path']\n]);"}],"resources":[],"params":[{"name":"userDefinedFunctionResources","description":"<p>User-defined function\nresources used in the query. This is to be formatted as a list of\nsub-arrays containing either a key <code>resourceUri<\/code> or <code>inlineCode<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"writeDisposition","type":"instance","name":"writeDisposition","source":"src\/BigQuery\/QueryJobConfiguration.php#L447","description":"<p>Sets the action that occurs if the destination table already exists. Each\naction is atomic and only occurs if BigQuery is able to complete the job\nsuccessfully. Creation, truncation and append actions occur as one atomic\nupdate upon job completion.<\/p>","examples":[{"caption":"","code":"$query->writeDisposition('WRITE_TRUNCATE');"}],"resources":[],"params":[{"name":"writeDisposition","description":"<p>The write disposition. Acceptable values\ninclude <code>\"WRITE_TRUNCATE\"<\/code>, <code>\"WRITE_APPEND\"<\/code>, <code>\"WRITE_EMPTY\"<\/code>.\n<strong>Defaults to<\/strong> <code>\"WRITE_EMPTY\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryjobconfiguration\">Google\\Cloud\\BigQuery\\QueryJobConfiguration<\/a>"],"description":""}]},{"id":"dryRun","type":"instance","name":"dryRun","source":"src\/BigQuery\/JobConfigurationTrait.php#L66","description":"<p>Specifies the default dataset to use for unqualified table names in the\nquery.<\/p>\n\nImplemented in <a data-custom-type=\"bigquery\/jobconfigurationtrait\">Google\\Cloud\\BigQuery\\JobConfigurationTrait<\/a>","examples":[],"resources":[],"params":[{"name":"dryRun","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"https:\/\/googleapis.github.io\/gax-php\/#Google\/Cloud\/BigQuery\\JobConfigInterface.html\" target=\"_blank\">Google\\Cloud\\BigQuery\\JobConfigInterface<\/a>"],"description":""}]},{"id":"jobIdPrefix","type":"instance","name":"jobIdPrefix","source":"src\/BigQuery\/JobConfigurationTrait.php#L80","description":"<p>Sets a prefix for the job ID.<\/p>\n\nImplemented in <a data-custom-type=\"bigquery\/jobconfigurationtrait\">Google\\Cloud\\BigQuery\\JobConfigurationTrait<\/a>","examples":[],"resources":[],"params":[{"name":"jobIdPrefix","description":"<p>If provided, the job ID will be of format\n<code>{$jobIdPrefix}-{jobId}<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"https:\/\/googleapis.github.io\/gax-php\/#Google\/Cloud\/BigQuery\\JobConfigInterface.html\" target=\"_blank\">Google\\Cloud\\BigQuery\\JobConfigInterface<\/a>"],"description":""}]},{"id":"labels","type":"instance","name":"labels","source":"src\/BigQuery\/JobConfigurationTrait.php#L94","description":"<p>Specifies the default dataset to use for unqualified table names in the\nquery.<\/p>\n\nImplemented in <a data-custom-type=\"bigquery\/jobconfigurationtrait\">Google\\Cloud\\BigQuery\\JobConfigurationTrait<\/a>","examples":[],"resources":[],"params":[{"name":"labels","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"https:\/\/googleapis.github.io\/gax-php\/#Google\/Cloud\/BigQuery\\JobConfigInterface.html\" target=\"_blank\">Google\\Cloud\\BigQuery\\JobConfigInterface<\/a>"],"description":""}]}]}