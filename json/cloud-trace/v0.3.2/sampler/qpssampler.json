{"id":"trace\/sampler\/qpssampler","type":"","title":"Google\\Cloud\\Trace\\Sampler\\QpsSampler","name":"QpsSampler","description":"<p>This implementation of the SamplerInterface uses a cache to limit sampling to\nthe a certain number of queries per second. It requires a PSR-6 cache implementation.<\/p>","examples":[],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"src\/Trace\/Sampler\/QpsSampler.php#L73","description":"<p>Create a new QpsSampler. If the provided cache is shared between servers,\nthe queries per second will be counted across servers. If the cache is shared\nbetween servers and you wish to sample independently on the servers, provide\nyour own cache key that is different on each server.<\/p>\n<p>There may be race conditions between simultaneous requests where they may\nboth (all) be sampled.<\/p>","examples":[],"resources":[],"params":[{"name":"cache","description":"<p>The cache store to use<\/p>","types":["<a href=\"https:\/\/github.com\/php-fig\/cache\/blob\/master\/src\/CacheItemPoolInterface.php\" target=\"_blank\">Psr\\Cache\\CacheItemPoolInterface<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.cacheItemClass","description":"<p>The class of the item to use. This class must implement CacheItemInterface.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.rate","description":"<p>The number of queries per second to allow. Must be less than or equal to 1. <strong>Defaults to<\/strong> <code>0.1<\/code><\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.float.php\" target=\"_blank\">float<\/a>"],"optional":null,"nullable":null},{"name":"options.key","description":"<p>The cache key to use. <strong>Defaults to<\/strong> <code>__google_cloud_trace__<\/code><\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[]},{"id":"shouldSample","type":"instance","name":"shouldSample","source":"src\/Trace\/Sampler\/QpsSampler.php#L99","description":"<p>Returns whether or not the request should be sampled.<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"description":""}]},{"id":"rate","type":"instance","name":"rate","source":"src\/Trace\/Sampler\/QpsSampler.php#L141","description":"<p>Return the query-per-second rate<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.float.php\" target=\"_blank\">float<\/a>"],"description":""}]}]}