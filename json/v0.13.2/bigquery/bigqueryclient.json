{"id":"bigquery\/bigqueryclient","type":"","title":"Google\\Cloud\\BigQuery\\BigQueryClient","name":"BigQueryClient","description":"<p>Google Cloud BigQuery client. Allows you to create, manage, share and query\ndata. Find more information at\n<a href=\"https:\/\/cloud.google.com\/bigquery\/what-is-bigquery\">Google Cloud BigQuery Docs<\/a>.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n$cloud = new ServiceBuilder();\n\n$bigQuery = $cloud->bigQuery();"},{"caption":"<p>BigQueryClient can be instantiated directly.<\/p>","code":"use Google\\Cloud\\BigQuery\\BigQueryClient;\n\n$bigQuery = new BigQueryClient();"}],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"\/src\/BigQuery\/BigQueryClient.php#L85","description":"<p>Create a BigQuery client.<\/p>","examples":[],"resources":[],"params":[{"name":"config","description":"<p>Configuration options.<\/p>","types":["array"],"optional":true,"nullable":null},{"name":"config.projectId","description":"<p>The project ID from the Google Developer's Console.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"config.authCache","description":"<p>A cache for storing access tokens. <strong>Defaults to<\/strong> a simple in memory implementation.<\/p>","types":["CacheItemPoolInterface"],"optional":null,"nullable":null},{"name":"config.authCacheOptions","description":"<p>Cache configuration options.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"config.authHttpHandler","description":"<p>A handler used to deliver Psr7 requests specifically for authentication.<\/p>","types":["callable"],"optional":null,"nullable":null},{"name":"config.httpHandler","description":"<p>A handler used to deliver Psr7 requests. Only valid for requests sent over REST.<\/p>","types":["callable"],"optional":null,"nullable":null},{"name":"config.keyFile","description":"<p>The contents of the service account credentials .json file retrieved from the Google Developers Console.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"config.keyFilePath","description":"<p>The full path to your service account credentials .json file retrieved from the Google Developers Console.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"config.retries","description":"<p>Number of retries for a failed request. <strong>Defaults to<\/strong> <code>3<\/code>.<\/p>","types":["int"],"optional":null,"nullable":null},{"name":"config.scopes","description":"<p>Scopes to be used for the request.<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[]},{"id":"runQuery","type":"instance","name":"runQuery","source":"\/src\/BigQuery\/BigQueryClient.php#L140","description":"<p>Runs a BigQuery SQL query in a synchronous fashion. Rows are returned\nimmediately as long as the query completes within a specified timeout. In\nthe case that the query does not complete in the specified timeout, you\nare able to poll the query's status until it is complete.<\/p>","examples":[{"caption":"","code":"$queryResults = $bigQuery->runQuery('SELECT * FROM [bigquery-public-data:usa_names.usa_1910_2013]');\n\n$isComplete = $queryResults->isComplete();\n\nwhile (!$isComplete) {\n    sleep(1); \/\/ let's wait for a moment...\n    $queryResults->reload(); \/\/ trigger a network request\n    $isComplete = $queryResults->isComplete(); \/\/ check the query's status\n}\n\nforeach ($queryResults->rows() as $row) {\n    echo $row['name'];\n}"}],"resources":[{"title":"Query API documentation.","link":"https:\/\/cloud.google.com\/bigquery\/docs\/reference\/v2\/jobs\/query"}],"params":[{"name":"query","description":"<p>A BigQuery SQL query.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["array"],"optional":true,"nullable":null},{"name":"options.maxResults","description":"<p>The maximum number of rows to return per page of results. Setting this flag to a small value such as 1000 and then paging through results might improve reliability when the query result set is large.<\/p>","types":["int"],"optional":null,"nullable":null},{"name":"options.defaultDataset","description":"<p>Specifies the default datasetId and projectId to assume for any unqualified table names in the query. If not set, all table names in the query string must be qualified in the format 'datasetId.tableId'.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.timeoutMs","description":"<p>How long to wait for the query to complete, in milliseconds. <strong>Defaults to<\/strong> <code>10000<\/code> milliseconds (10 seconds).<\/p>","types":["int"],"optional":null,"nullable":null},{"name":"options.useQueryCache","description":"<p>Whether to look for the result in the query cache.<\/p>","types":["bool"],"optional":null,"nullable":null},{"name":"options.useLegacySql","description":"<p>Specifies whether to use BigQuery's legacy SQL dialect for this query.<\/p>","types":["bool"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/queryresults\">Google\\Cloud\\BigQuery\\QueryResults<\/a>"],"description":""}]},{"id":"runQueryAsJob","type":"instance","name":"runQueryAsJob","source":"\/src\/BigQuery\/BigQueryClient.php#L191","description":"<p>Runs a BigQuery SQL query in an asynchronous fashion. Running a query\nin this fashion requires you to poll for the status before being able\nto access results.<\/p>","examples":[{"caption":"","code":"$job = $bigQuery->runQueryAsJob('SELECT * FROM [bigquery-public-data:usa_names.usa_1910_2013]');\n\n$isComplete = false;\n$queryResults = $job->queryResults();\n\nwhile (!$isComplete) {\n    sleep(1); \/\/ let's wait for a moment...\n    $queryResults->reload(); \/\/ trigger a network request\n    $isComplete = $queryResults->isComplete(); \/\/ check the query's status\n}\n\nforeach ($queryResults->rows() as $row) {\n    echo $row['name'];\n}"}],"resources":[{"title":"Jobs insert API documentation.","link":"https:\/\/cloud.google.com\/bigquery\/docs\/reference\/v2\/jobs\/insert"}],"params":[{"name":"query","description":"<p>A BigQuery SQL query.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["array"],"optional":true,"nullable":null},{"name":"options.jobConfig","description":"<p>Configuration settings for a query job are outlined in the <a href=\"https:\/\/goo.gl\/PuRa3I\">API Docs for <code>configuration.query<\/code><\/a>. If not provided default settings will be used.<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/job\">Google\\Cloud\\BigQuery\\Job<\/a>"],"description":""}]},{"id":"job","type":"instance","name":"job","source":"\/src\/BigQuery\/BigQueryClient.php#L218","description":"<p>Lazily instantiates a job. There are no network requests made at this\npoint. To see the operations that can be performed on a job please\nsee <a data-custom-type=\"bigquery\/job\">Google\\Cloud\\BigQuery\\Job<\/a>.<\/p>","examples":[{"caption":"","code":"$job = $bigQuery->job('myJobId');"}],"resources":[],"params":[{"name":"id","description":"<p>The id of the job to request.<\/p>","types":["string"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/job\">Google\\Cloud\\BigQuery\\Job<\/a>"],"description":""}]},{"id":"jobs","type":"instance","name":"jobs","source":"\/src\/BigQuery\/BigQueryClient.php#L251","description":"<p>Fetches jobs in the project.<\/p>","examples":[{"caption":"<p>Get all jobs with the state of 'done'<\/p>","code":"$jobs = $bigQuery->jobs([\n    'stateFilter' => 'done'\n]);\n\nforeach ($jobs as $job) {\n    var_dump($job->id());\n}"}],"resources":[{"title":"Jobs list API documentation.","link":"https:\/\/cloud.google.com\/bigquery\/docs\/reference\/v2\/jobs\/list"}],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["array"],"optional":true,"nullable":null},{"name":"options.allUsers","description":"<p>Whether to display jobs owned by all users in the project. <strong>Defaults to<\/strong> <code>false<\/code>.<\/p>","types":["bool"],"optional":null,"nullable":null},{"name":"options.maxResults","description":"<p>Maximum number of results to return.<\/p>","types":["int"],"optional":null,"nullable":null},{"name":"options.stateFilter","description":"<p>Filter for job state. Maybe be either <code>done<\/code>, <code>pending<\/code>, or <code>running<\/code>.<\/p>","types":["string"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["Generator&lt;<a data-custom-type=\"bigquery\/job\">Google\\Cloud\\BigQuery\\Job<\/a>&gt;"],"description":""}]},{"id":"dataset","type":"instance","name":"dataset","source":"\/src\/BigQuery\/BigQueryClient.php#L288","description":"<p>Lazily instantiates a dataset. There are no network requests made at this\npoint. To see the operations that can be performed on a dataset please\nsee <a data-custom-type=\"bigquery\/dataset\">Google\\Cloud\\BigQuery\\Dataset<\/a>.<\/p>","examples":[{"caption":"","code":"$dataset = $bigQuery->dataset('myDatasetId');"}],"resources":[],"params":[{"name":"id","description":"<p>The id of the dataset to request.<\/p>","types":["string"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/dataset\">Google\\Cloud\\BigQuery\\Dataset<\/a>"],"description":""}]},{"id":"datasets","type":"instance","name":"datasets","source":"\/src\/BigQuery\/BigQueryClient.php#L315","description":"<p>Fetches datasets in the project.<\/p>","examples":[{"caption":"","code":"$datasets = $bigQuery->datasets();\n\nforeach ($datasets as $dataset) {\n    var_dump($dataset->id());\n}"}],"resources":[{"title":"Datasets list API documentation.","link":"https:\/\/cloud.google.com\/bigquery\/docs\/reference\/v2\/datasets\/list"}],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["array"],"optional":true,"nullable":null},{"name":"options.all","description":"<p>Whether to list all datasets, including hidden ones.<\/p>","types":["bool"],"optional":null,"nullable":null},{"name":"options.maxResults","description":"<p>Maximum number of results to return.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["Generator&lt;<a data-custom-type=\"bigquery\/dataset\">Google\\Cloud\\BigQuery\\Dataset<\/a>&gt;"],"description":""}]},{"id":"createDataset","type":"instance","name":"createDataset","source":"\/src\/BigQuery\/BigQueryClient.php#L359","description":"<p>Creates a dataset.<\/p>","examples":[{"caption":"","code":"$dataset = $bigQuery->createDataset('aDataset');"}],"resources":[{"title":"Datasets insert API documentation.","link":"https:\/\/cloud.google.com\/bigquery\/docs\/reference\/v2\/datasets\/insert"}],"params":[{"name":"id","description":"<p>The id of the dataset to create.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["array"],"optional":true,"nullable":null},{"name":"options.metadata","description":"<p>The available options for metadata are outlined at the <a href=\"https:\/\/cloud.google.com\/bigquery\/docs\/reference\/v2\/datasets#resource\">Dataset Resource API docs<\/a><\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"bigquery\/dataset\">Google\\Cloud\\BigQuery\\Dataset<\/a>"],"description":""}]}]}