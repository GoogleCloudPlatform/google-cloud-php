{"id":"storage\/bucket","type":"","title":"Google\\Cloud\\Storage\\Bucket","name":"Bucket","description":"<p>Buckets are the basic containers that hold your data. Everything that you\nstore in Google Cloud Storage must be contained in a bucket.<\/p>","examples":[],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"\/src\/Storage\/Bucket.php#L65","description":"","examples":[],"resources":[],"params":[{"name":"connection","description":"<p>Represents a connection to Cloud\nStorage.<\/p>","types":["<a data-custom-type=\"storage\/connection\/connectioninterface\">Google\\Cloud\\Storage\\Connection\\ConnectionInterface<\/a>"],"optional":false,"nullable":null},{"name":"name","description":"<p>The bucket's name.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"info","description":"<p>The bucket's metadata.<\/p>","types":["array"],"optional":true,"nullable":null}],"exceptions":[],"returns":[]},{"id":"acl","type":"instance","name":"acl","source":"\/src\/Storage\/Bucket.php#L90","description":"<p>Configure ACL for this bucket.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\Storage\\Acl;\n\n$acl = $bucket->acl();\n$acl->add('allAuthenticatedUsers', Acl::ROLE_READER);"}],"resources":[{"title":"More about Access Control Lists","link":"https:\/\/cloud.google.com\/storage\/docs\/access-control"}],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"storage\/acl\">Google\\Cloud\\Storage\\Acl<\/a>"],"description":"<p>An ACL instance configured to handle the bucket's access\ncontrol policies.<\/p>"}]},{"id":"defaultAcl","type":"instance","name":"defaultAcl","source":"\/src\/Storage\/Bucket.php#L110","description":"<p>Configure default object ACL for this bucket.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\Storage\\Acl;\n\n$acl = $bucket->defaultAcl();\n$acl->add('allAuthenticatedUsers', Acl::ROLE_READER);"}],"resources":[{"title":"More about Access Control Lists","link":"https:\/\/cloud.google.com\/storage\/docs\/access-control"}],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"storage\/acl\">Google\\Cloud\\Storage\\Acl<\/a>"],"description":"<p>An ACL instance configured to handle the bucket's default\nobject access control policies.<\/p>"}]},{"id":"exists","type":"instance","name":"exists","source":"\/src\/Storage\/Bucket.php#L125","description":"<p>Check whether or not the bucket exists.<\/p>","examples":[{"caption":"","code":"$bucket->exists();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["bool"],"description":""}]},{"id":"upload","type":"instance","name":"upload","source":"\/src\/Storage\/Bucket.php#L214","description":"<p>Upload your data in a simple fashion. Uploads will default to being\nresumable if the file size is greater than 5mb.<\/p>","examples":[{"caption":"","code":"$bucket->upload(\n    fopen(__DIR__ . '\/image.jpg', 'r')\n);"},{"caption":"<p>Upload an object in a resumable fashion while setting a new name for the object and including the content language.<\/p>","code":"$options = [\n    'resumable' => true,\n    'name' => '\/images\/new-name.jpg',\n    'metadata' => [\n        'contentLanguage' => 'en'\n    ]\n];\n\n$bucket->upload(\n    fopen(__DIR__ . '\/image.jpg', 'r'),\n    $options\n);"},{"caption":"<p>Upload an object with a customer-supplied encryption key.<\/p>","code":"$key = openssl_random_pseudo_bytes(32); \/\/ Make sure to remember your key.\n$options = [\n    'encryptionKey' => $key\n    'encryptionKeySHA256' => hash('SHA256', $key, true)\n];\n\n$bucket->upload(\n    fopen(__DIR__ . '\/image.jpg', 'r'),\n    $options\n);"}],"resources":[{"title":"Learn more about resumable\nuploads.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/how-tos\/upload#resumable"},{"title":"Objects insert API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/objects\/insert"},{"title":"Customer-supplied encryption keys.","link":"https:\/\/cloud.google.com\/storage\/docs\/encryption#customer-supplied"}],"params":[{"name":"data","description":"<p>The data to be uploaded.<\/p>","types":["string","resource","\\Psr\\Http\\Message\\StreamInterface"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["array"],"optional":true,"nullable":null},{"name":"options.name","description":"<p>The name of the destination.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.resumable","description":"<p>Indicates whether or not the upload will be performed in a resumable fashion.<\/p>","types":["bool"],"optional":null,"nullable":null},{"name":"options.validate","description":"<p>Indicates whether or not validation will be applied using md5 hashing functionality. If true and the calculated hash does not match that of the upstream server the upload will be rejected.<\/p>","types":["bool"],"optional":null,"nullable":null},{"name":"options.chunkSize","description":"<p>If provided the upload will be done in chunks. The size must be in multiples of 262144 bytes. With chunking you have increased reliability at the risk of higher overhead. It is recommended to not use chunking.<\/p>","types":["int"],"optional":null,"nullable":null},{"name":"options.predefinedAcl","description":"<p>Predefined ACL to apply to the object. Acceptable values include, <code>\"authenticatedRead\"<\/code>, <code>\"bucketOwnerFullControl\"<\/code>, <code>\"bucketOwnerRead\"<\/code>, <code>\"private\"<\/code>, <code>\"projectPrivate\"<\/code>, and <code>\"publicRead\"<\/code>. <strong>Defaults to<\/strong> <code>\"private\"<\/code>.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.metadata","description":"<p>The available options for metadata are outlined at the <a href=\"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/objects\/insert#request-body\">JSON API docs<\/a>.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.encryptionKey","description":"<p>An AES-256 customer-supplied encryption key. If provided one must also include an <code>encryptionKeySHA256<\/code>.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.encryptionKeySHA256","description":"<p>The SHA256 hash of the customer-supplied encryption key. If provided one must also include an <code>encryptionKey<\/code>.<\/p>","types":["string"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":""}],"returns":[{"types":["<a data-custom-type=\"storage\/storageobject\">Google\\Cloud\\Storage\\StorageObject<\/a>"],"description":""}]},{"id":"getResumableUploader","type":"instance","name":"getResumableUploader","source":"\/src\/Storage\/Bucket.php#L293","description":"<p>Get a resumable uploader which can provide greater control over the\nupload process. This is recommended when dealing with large files where\nreliability is key.<\/p>","examples":[{"caption":"","code":"$uploader = $bucket->getResumableUploader(\n    fopen('image.jpg', 'r')\n);\n\ntry {\n    $uploader->upload();\n} catch (GoogleException $ex) {\n    $resumeUri = $uploader->getResumeUri();\n    $uploader->resume($resumeUri);\n}"}],"resources":[{"title":"Learn more about resumable\nuploads.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/how-tos\/upload#resumable"},{"title":"Objects insert API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/objects\/insert"}],"params":[{"name":"data","description":"<p>The data to be uploaded.<\/p>","types":["string","resource","\\Psr\\Http\\Message\\StreamInterface"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["array"],"optional":true,"nullable":null},{"name":"options.name","description":"<p>The name of the destination.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.validate","description":"<p>Indicates whether or not validation will be applied using md5 hashing functionality. If true and the calculated hash does not match that of the upstream server the upload will be rejected.<\/p>","types":["bool"],"optional":null,"nullable":null},{"name":"options.chunkSize","description":"<p>If provided the upload will be done in chunks. The size must be in multiples of 262144 bytes. With chunking you have increased reliability at the risk of higher overhead. It is recommended to not use chunking.<\/p>","types":["int"],"optional":null,"nullable":null},{"name":"options.predefinedAcl","description":"<p>Predefined ACL to apply to the object. Acceptable values include <code>\"authenticatedRead<\/code>&quot;, <code>\"bucketOwnerFullControl<\/code>&quot;, <code>\"bucketOwnerRead<\/code>&quot;, <code>\"private<\/code>&quot;, <code>\"projectPrivate<\/code>&quot;, and <code>\"publicRead\"<\/code>. <strong>Defaults to<\/strong> <code>\"private\"<\/code>.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.metadata","description":"<p>The available options for metadata are outlined at the <a href=\"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/objects\/insert#request-body\">JSON API docs<\/a>.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.encryptionKey","description":"<p>An AES-256 customer-supplied encryption key. If provided one must also include an <code>encryptionKeySHA256<\/code>.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.encryptionKeySHA256","description":"<p>The SHA256 hash of the customer-supplied encryption key. If provided one must also include an <code>encryptionKey<\/code>.<\/p>","types":["string"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":""}],"returns":[{"types":["<a data-custom-type=\"upload\/resumableuploader\">Google\\Cloud\\Upload\\ResumableUploader<\/a>"],"description":""}]},{"id":"object","type":"instance","name":"object","source":"\/src\/Storage\/Bucket.php#L334","description":"<p>Lazily instantiates an object. There are no network requests made at this\npoint. To see the operations that can be performed on an object please\nsee <a data-custom-type=\"storage\/storageobject\">Google\\Cloud\\Storage\\StorageObject<\/a>.<\/p>","examples":[{"caption":"","code":"$object = $bucket->object('file.txt');"}],"resources":[],"params":[{"name":"name","description":"<p>The name of the object to request.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["array"],"optional":true,"nullable":null},{"name":"options.generation","description":"<p>Request a specific revision of the object.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.encryptionKey","description":"<p>An AES-256 customer-supplied encryption key. It will be neccesary to provide this when a key was used during the object's creation. If provided one must also include an <code>encryptionKeySHA256<\/code>.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.encryptionKeySHA256","description":"<p>The SHA256 hash of the customer-supplied encryption key. It will be neccesary to provide this when a key was used during the object's creation. If provided one must also include an <code>encryptionKey<\/code>.<\/p>","types":["string"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"storage\/storageobject\">Google\\Cloud\\Storage\\StorageObject<\/a>"],"description":""}]},{"id":"objects","type":"instance","name":"objects","source":"\/src\/Storage\/Bucket.php#L390","description":"<p>Fetches all objects in the bucket.<\/p>","examples":[{"caption":"<p>Get all objects beginning with the prefix 'photo'<\/p>","code":"$objects = $bucket->objects([\n    'prefix' => 'photo',\n    'fields' => 'items\/name,nextPageToken'\n]);\n\nforeach ($objects as $object) {\n    var_dump($object->name());\n}"}],"resources":[{"title":"Objects list API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/objects\/list"}],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["array"],"optional":true,"nullable":null},{"name":"options.delimiter","description":"<p>Returns results in a directory-like mode. Results will contain only objects whose names, aside from the prefix, do not contain delimiter. Objects whose names, aside from the prefix, contain delimiter will have their name, truncated after the delimiter, returned in prefixes. Duplicate prefixes are omitted.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.maxResults","description":"<p>Maximum number of results to return per request. Defaults to <code>1000<\/code>.<\/p>","types":["integer"],"optional":null,"nullable":null},{"name":"options.prefix","description":"<p>Filter results with this prefix.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.projection","description":"<p>Determines which properties to return. May be either 'full' or 'noAcl'.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.versions","description":"<p>If true, lists all versions of an object as distinct results. The default is false.<\/p>","types":["bool"],"optional":null,"nullable":null},{"name":"options.fields","description":"<p>Selector which will cause the response to only return the specified fields.<\/p>","types":["string"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["Generator&lt;<a data-custom-type=\"storage\/storageobject\">Google\\Cloud\\Storage\\StorageObject<\/a>&gt;"],"description":""}]},{"id":"delete","type":"instance","name":"delete","source":"\/src\/Storage\/Bucket.php#L436","description":"<p>Delete the bucket.<\/p>","examples":[{"caption":"","code":"$bucket->delete();"}],"resources":[{"title":"Buckets delete API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/buckets\/delete"}],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["array"],"optional":true,"nullable":null},{"name":"options.ifMetagenerationMatch","description":"<p>If set, only deletes the bucket if its metageneration matches this value.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.ifMetagenerationNotMatch","description":"<p>If set, only deletes the bucket if its metageneration does not match this value.<\/p>","types":["string"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["void"],"description":""}]},{"id":"update","type":"instance","name":"update","source":"\/src\/Storage\/Bucket.php#L489","description":"<p>Update the bucket. Upon receiving a result the local bucket's data will\nbe updated.<\/p>","examples":[{"caption":"<p>Enable logging on an existing bucket.<\/p>","code":"$bucket->update([\n    'logging' => [\n        'logBucket' => 'myBucket',\n        'logObjectPrefix' => 'prefix'\n    ]\n]);"}],"resources":[{"title":"Buckets patch API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/buckets\/patch"}],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["array"],"optional":true,"nullable":null},{"name":"options.ifMetagenerationMatch","description":"<p>Makes the return of the bucket metadata conditional on whether the bucket's current metageneration matches the given value.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.ifMetagenerationNotMatch","description":"<p>Makes the return of the bucket metadata conditional on whether the bucket's current metageneration does not match the given value.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.predefinedAcl","description":"<p>Apply a predefined set of access controls to this bucket.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.predefinedDefaultObjectAcl","description":"<p>Apply a predefined set of default object access controls to this bucket.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.projection","description":"<p>Determines which properties to return. May be either 'full' or 'noAcl'.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.fields","description":"<p>Selector which will cause the response to only return the specified fields.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.acl","description":"<p>Access controls on the bucket.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.cors","description":"<p>The bucket's Cross-Origin Resource Sharing (CORS) configuration.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.defaultObjectAcl","description":"<p>Default access controls to apply to new objects when no ACL is provided.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.lifecycle","description":"<p>The bucket's lifecycle configuration.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.logging","description":"<p>The bucket's logging configuration, which defines the destination bucket and optional name prefix for the current bucket's logs.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.versioning","description":"<p>The bucket's versioning configuration.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.website","description":"<p>The bucket's website configuration.<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["array"],"description":""}]},{"id":"compose","type":"instance","name":"compose","source":"\/src\/Storage\/Bucket.php#L539","description":"<p>Composes a set of objects into a single object.<\/p>\n<p>Please note that all objects to be composed must come from the same\nbucket.<\/p>","examples":[{"caption":"","code":"$sourceObjects = ['log1.txt', 'log2.txt'];\n$bucket->compose($sourceObjects, 'combined-logs.txt');"},{"caption":"<p>Use an instance of StorageObject.<\/p>","code":"$sourceObjects = [\n    $bucket->object('log1.txt'),\n    $bucket->object('log2.txt')\n];\n\n$bucket->compose($sourceObjects, 'combined-logs.txt');"}],"resources":[{"title":"Objects compose API documentation","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/objects\/compose"}],"params":[{"name":"sourceObjects","description":"<p>The objects to compose.<\/p>","types":["string[]","<a data-custom-type=\"storage\/storageobject[]\">Google\\Cloud\\Storage\\StorageObject[]<\/a>"],"optional":false,"nullable":null},{"name":"name","description":"<p>The name of the composed object.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["array"],"optional":true,"nullable":null},{"name":"options.predefinedAcl","description":"<p>Predefined ACL to apply to the composed object. Acceptable values include, <code>\"authenticatedRead\"<\/code>, <code>\"bucketOwnerFullControl\"<\/code>, <code>\"bucketOwnerRead\"<\/code>, <code>\"private\"<\/code>, <code>\"projectPrivate\"<\/code>, and <code>\"publicRead\"<\/code>. <strong>Defaults to<\/strong> <code>\"private\"<\/code>.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.metadata","description":"<p>Metadata to apply to the composed object. The available options for metadata are outlined at the <a href=\"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/objects\/insert#request-body\">JSON API docs<\/a>.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.ifGenerationMatch","description":"<p>Makes the operation conditional on whether the object's current generation matches the given value.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.ifMetagenerationMatch","description":"<p>Makes the operation conditional on whether the object's current metageneration matches the given value.<\/p>","types":["string"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":""}],"returns":[{"types":["<a data-custom-type=\"storage\/storageobject\">Google\\Cloud\\Storage\\StorageObject<\/a>"],"description":""}]},{"id":"info","type":"instance","name":"info","source":"\/src\/Storage\/Bucket.php#L616","description":"<p>Retrieves the bucket's details. If no bucket data is cached a network\nrequest will be made to retrieve it.<\/p>","examples":[{"caption":"","code":"$info = $bucket->info();\necho $info['location'];"}],"resources":[{"title":"Buckets get API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/buckets\/get"}],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["array"],"optional":true,"nullable":null},{"name":"options.ifMetagenerationMatch","description":"<p>Makes the return of the bucket metadata conditional on whether the bucket's current metageneration matches the given value.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.ifMetagenerationNotMatch","description":"<p>Makes the return of the bucket metadata conditional on whether the bucket's current metageneration does not match the given value.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.projection","description":"<p>Determines which properties to return. May be either 'full' or 'noAcl'.<\/p>","types":["string"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["array"],"description":""}]},{"id":"reload","type":"instance","name":"reload","source":"\/src\/Storage\/Bucket.php#L651","description":"<p>Triggers a network request to reload the bucket's details.<\/p>","examples":[{"caption":"","code":"$bucket->reload();\n$info = $bucket->info();\necho $info['location'];"}],"resources":[{"title":"Buckets get API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/buckets\/get"}],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["array"],"optional":true,"nullable":null},{"name":"options.ifMetagenerationMatch","description":"<p>Makes the return of the bucket metadata conditional on whether the bucket's current metageneration matches the given value.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.ifMetagenerationNotMatch","description":"<p>Makes the return of the bucket metadata conditional on whether the bucket's current metageneration does not match the given value.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.projection","description":"<p>Determines which properties to return. May be either 'full' or 'noAcl'.<\/p>","types":["string"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["array"],"description":""}]},{"id":"name","type":"instance","name":"name","source":"\/src\/Storage\/Bucket.php#L666","description":"<p>Retrieves the bucket's name.<\/p>","examples":[{"caption":"","code":"echo $bucket->name();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["string"],"description":""}]}]}