{"id":"spanner\/snapshot","type":"","title":"Google\\Cloud\\Spanner\\Snapshot","name":"Snapshot","description":"<p>Read-only snapshot Transaction.<\/p>\n<p>For full usage details, please refer to\n<a data-custom-type=\"spanner\/database\" data-method=\"snapshot\">Google\\Cloud\\Spanner\\Database::snapshot()<\/a>.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\Spanner\\SpannerClient;\n\n$spanner = new SpannerClient();\n\n$database = $spanner->connect('my-instance', 'my-database');\n$snapshot = $database->snapshot();"}],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"src\/Spanner\/Snapshot.php#L128","description":"","examples":[],"resources":[],"params":[{"name":"operation","description":"<p>The Operation instance.<\/p>","types":["<a data-custom-type=\"spanner\/operation\">Google\\Cloud\\Spanner\\Operation<\/a>"],"optional":false,"nullable":null},{"name":"session","description":"<p>The session to use for spanner interactions.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.id","description":"<p>The Transaction ID. If no ID is provided, the Transaction will be a Single-Use Transaction.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.readTimestamp","description":"<p>The read timestamp.<\/p>","types":["Timestamp"],"optional":null,"nullable":null}],"exceptions":[],"returns":[]},{"id":"readTimestamp","type":"instance","name":"readTimestamp","source":"src\/Spanner\/Snapshot.php#L168","description":"<p>Retrieve the Read Timestamp.<\/p>\n<p>For snapshot read-only transactions, the read timestamp chosen for the\ntransaction.<\/p>","examples":[{"caption":"","code":"$timestamp = $snapshot->readTimestamp();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/timestamp\">Google\\Cloud\\Spanner\\Timestamp<\/a>"],"description":""}]},{"id":"execute","type":"instance","name":"execute","source":"src\/Spanner\/TransactionalReadTrait.php#L90","description":"<p>Run a query.<\/p>\n\nImplemented in <a data-custom-type=\"spanner\/transactionalreadtrait\">Google\\Cloud\\Spanner\\TransactionalReadTrait<\/a>","examples":[],"resources":[],"params":[{"name":"sql","description":"<p>The query string to execute.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.parameters","description":"<p>A key\/value array of Query Parameters, where the key is represented in the query string prefixed by a <code>@<\/code> symbol.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.types","description":"<p>A key\/value array of Query Parameter types. Generally, Google Cloud PHP can infer types. Explicit type definitions are only necessary for null parameter values. Accepted values are defined as constants on <a data-custom-type=\"spanner\/valuemapper\">Google\\Cloud\\Spanner\\ValueMapper<\/a>, and are as follows: <code>Database::TYPE_BOOL<\/code>, <code>Database::TYPE_INT64<\/code>, <code>Database::TYPE_FLOAT64<\/code>, <code>Database::TYPE_TIMESTAMP<\/code>, <code>Database::TYPE_DATE<\/code>, <code>Database::TYPE_STRING<\/code>, <code>Database::TYPE_BYTES<\/code>, <code>Database::TYPE_ARRAY<\/code> and <code>Database::TYPE_STRUCT<\/code>. If the parameter type is an array, the type should be given as an array, where the first element is <code>Database::TYPE_ARRAY<\/code> and the second element is the array type, for instance <code>[Database::TYPE_ARRAY, Database::TYPE_INT64]<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/result\">Google\\Cloud\\Spanner\\Result<\/a>"],"description":""}]},{"id":"read","type":"instance","name":"read","source":"src\/Spanner\/TransactionalReadTrait.php#L119","description":"<p>Lookup rows in a table.<\/p>\n\nImplemented in <a data-custom-type=\"spanner\/transactionalreadtrait\">Google\\Cloud\\Spanner\\TransactionalReadTrait<\/a>","examples":[],"resources":[],"params":[{"name":"table","description":"<p>The table name.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"keySet","description":"<p>The KeySet to select rows.<\/p>","types":["<a data-custom-type=\"spanner\/keyset\">Google\\Cloud\\Spanner\\KeySet<\/a>"],"optional":false,"nullable":null},{"name":"columns","description":"<p>A list of column names to return.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.index","description":"<p>The name of an index on the table.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.limit","description":"<p>The number of results to return.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/result\">Google\\Cloud\\Spanner\\Result<\/a>"],"description":""}]},{"id":"id","type":"instance","name":"id","source":"src\/Spanner\/TransactionalReadTrait.php#L139","description":"<p>Retrieve the Transaction ID.<\/p>\n\nImplemented in <a data-custom-type=\"spanner\/transactionalreadtrait\">Google\\Cloud\\Spanner\\TransactionalReadTrait<\/a>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"description":""}]},{"id":"type","type":"instance","name":"type","source":"src\/Spanner\/TransactionalReadTrait.php#L149","description":"<p>Get the Transaction Type.<\/p>\n\nImplemented in <a data-custom-type=\"spanner\/transactionalreadtrait\">Google\\Cloud\\Spanner\\TransactionalReadTrait<\/a>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"description":""}]},{"id":"execute","type":"instance","name":"execute","source":"src\/Spanner\/Snapshot.php","description":"<p>Run a query.<\/p>","examples":[{"caption":"","code":"$result = $snapshot->execute(\n    'SELECT * FROM Users WHERE id = @userId',\n    [\n         'parameters' => [\n             'userId' => 1\n         ]\n     ]\n);\n\n$firstRow = $result\n    ->rows()\n    ->current();"}],"resources":[],"params":[{"name":"sql","description":"<p>The query string to execute.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.parameters","description":"<p>A key\/value array of Query Parameters, where the key is represented in the query string prefixed by a <code>@<\/code> symbol.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["\\Result"],"description":""}]},{"id":"read","type":"instance","name":"read","source":"src\/Spanner\/Snapshot.php","description":"<p>Lookup rows in a table.<\/p>","examples":[{"caption":"","code":"$keySet = new KeySet([\n    'keys' => [10]\n]);\n\n$columns = ['ID', 'title', 'content'];\n\n$result = $snapshot->read('Posts', $keySet, $columns);\n\n$firstRow = $result\n    ->rows()\n    ->current();"}],"resources":[],"params":[{"name":"table","description":"<p>The table name.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"keySet","description":"<p>The KeySet to select rows.<\/p>","types":["\\KeySet"],"optional":false,"nullable":null},{"name":"columns","description":"<p>A list of column names to return.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.index","description":"<p>The name of an index on the table.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.offset","description":"<p>The number of rows to offset results by.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.limit","description":"<p>The number of results to return.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["\\Result"],"description":""}]},{"id":"id","type":"instance","name":"id","source":"src\/Spanner\/Snapshot.php","description":"<p>Retrieve the Transaction ID.<\/p>","examples":[{"caption":"","code":"$id = $snapshot->id();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":""}]}]}