{"id":"spanner\/operation","type":"","title":"Google\\Cloud\\Spanner\\Operation","name":"Operation","description":"<p>Common interface for running operations against Cloud Spanner. This class is\nintended for internal use by the client library only. Implementors should\naccess these operations via <a data-custom-type=\"spanner\/database\">Google\\Cloud\\Spanner\\Database<\/a> or\n<a data-custom-type=\"spanner\/transaction\">Google\\Cloud\\Spanner\\Transaction<\/a>.<\/p>\n<p>Usage examples may be found in classes making use of this class:<\/p>\n<ul>\n<li><a data-custom-type=\"spanner\/database\">Google\\Cloud\\Spanner\\Database<\/a><\/li>\n<li><a data-custom-type=\"spanner\/transaction\">Google\\Cloud\\Spanner\\Transaction<\/a><\/li>\n<\/ul>","examples":[],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"src\/Spanner\/Operation.php#L64","description":"","examples":[],"resources":[],"params":[{"name":"connection","description":"<p>A connection to Google Cloud\nSpanner.<\/p>","types":["<a data-custom-type=\"spanner\/connection\/connectioninterface\">Google\\Cloud\\Spanner\\Connection\\ConnectionInterface<\/a>"],"optional":false,"nullable":null},{"name":"returnInt64AsObject","description":"<p>If true, 64 bit integers will be\nreturned as a <a data-custom-type=\"cloud-core\/v1.16.0\/core\/int64\">Google\\Cloud\\Core\\Int64<\/a> object for 32 bit\nplatform compatibility.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]},{"id":"mutation","type":"instance","name":"mutation","source":"src\/Spanner\/Operation.php#L79","description":"<p>Create a formatted mutation.<\/p>","examples":[],"resources":[],"params":[{"name":"operation","description":"<p>The operation type.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"table","description":"<p>The table name.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"mutation","description":"<p>The mutation data, represented as a set of\nkey\/value pairs.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":""}]},{"id":"deleteMutation","type":"instance","name":"deleteMutation","source":"src\/Spanner\/Operation.php#L99","description":"<p>Create a formatted delete mutation.<\/p>","examples":[],"resources":[],"params":[{"name":"table","description":"<p>The table name.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"keySet","description":"<p>The keys to delete.<\/p>","types":["<a data-custom-type=\"spanner\/keyset\">Google\\Cloud\\Spanner\\KeySet<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":""}]},{"id":"commit","type":"instance","name":"commit","source":"src\/Spanner\/Operation.php#L122","description":"<p>Commit all enqueued mutations.<\/p>","examples":[],"resources":[],"params":[{"name":"session","description":"<p>The session ID to use for the commit.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"transaction","description":"<p>The transaction to commit.<\/p>","types":["<a data-custom-type=\"spanner\/transaction\">Google\\Cloud\\Spanner\\Transaction<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.transactionId","description":"<p>The ID of the transaction.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/timestamp\">Google\\Cloud\\Spanner\\Timestamp<\/a>"],"description":"<p>The commit Timestamp.<\/p>"}]},{"id":"rollback","type":"instance","name":"rollback","source":"src\/Spanner\/Operation.php#L147","description":"<p>Rollback a Transaction.<\/p>","examples":[],"resources":[],"params":[{"name":"session","description":"<p>The session to use for the rollback.\nNote that the session MUST be the same one in which the\ntransaction was created.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"transactionId","description":"<p>The transaction to roll back.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.pseudo-types.php#language.types.void\" target=\"_blank\">void<\/a>"],"description":""}]},{"id":"execute","type":"instance","name":"execute","source":"src\/Spanner\/Operation.php#L164","description":"<p>Run a query.<\/p>","examples":[],"resources":[],"params":[{"name":"session","description":"<p>The session to use to execute the SQL.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"sql","description":"<p>The query string.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/result\">Google\\Cloud\\Spanner\\Result<\/a>"],"description":""}]},{"id":"read","type":"instance","name":"read","source":"src\/Spanner\/Operation.php#L209","description":"<p>Lookup rows in a database.<\/p>","examples":[],"resources":[],"params":[{"name":"session","description":"<p>The session in which to read data.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"table","description":"<p>The table name.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"keySet","description":"<p>The KeySet to select rows.<\/p>","types":["<a data-custom-type=\"spanner\/keyset\">Google\\Cloud\\Spanner\\KeySet<\/a>"],"optional":false,"nullable":null},{"name":"columns","description":"<p>A list of column names to return.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.index","description":"<p>The name of an index on the table.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.offset","description":"<p>The number of rows to offset results by.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.limit","description":"<p>The number of results to return.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/result\">Google\\Cloud\\Spanner\\Result<\/a>"],"description":""}]},{"id":"transaction","type":"instance","name":"transaction","source":"src\/Spanner\/Operation.php#L256","description":"<p>Create a read\/write transaction.<\/p>","examples":[],"resources":[{"title":"BeginTransactionRequest","link":"https:\/\/cloud.google.com\/spanner\/reference\/rpc\/google.spanner.v1#google.spanner.v1.BeginTransactionRequest"}],"params":[{"name":"session","description":"<p>The session to start the transaction in.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.singleUse","description":"<p>If true, a Transaction ID will not be allocated up front. Instead, the transaction will be considered &quot;single-use&quot;, and may be used for only a single operation. <strong>Defaults to<\/strong> <code>false<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"options.isRetry","description":"<p>If true, the resulting transaction will indicate that it is the result of a retry operation. <strong>Defaults to<\/strong> <code>false<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/transaction\">Google\\Cloud\\Spanner\\Transaction<\/a>"],"description":""}]},{"id":"snapshot","type":"instance","name":"snapshot","source":"src\/Spanner\/Operation.php#L288","description":"<p>Create a read-only snapshot transaction.<\/p>","examples":[],"resources":[{"title":"BeginTransactionRequest","link":"https:\/\/cloud.google.com\/spanner\/reference\/rpc\/google.spanner.v1#google.spanner.v1.BeginTransactionRequest"}],"params":[{"name":"session","description":"<p>The session to start the snapshot in.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.singleUse","description":"<p>If true, a Transaction ID will not be allocated up front. Instead, the transaction will be considered &quot;single-use&quot;, and may be used for only a single operation. <strong>Defaults to<\/strong> <code>false<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/snapshot\">Google\\Cloud\\Spanner\\Snapshot<\/a>"],"description":""}]},{"id":"createTransaction","type":"instance","name":"createTransaction","source":"src\/Spanner\/Operation.php#L311","description":"<p>Create a Transaction instance from a response object.<\/p>","examples":[],"resources":[],"params":[{"name":"session","description":"<p>The session the transaction belongs to.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"res","description":"<p>The createTransaction response.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options","description":"<p>Options for the transaction object.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/transaction\">Google\\Cloud\\Spanner\\Transaction<\/a>"],"description":""}]},{"id":"createSnapshot","type":"instance","name":"createSnapshot","source":"src\/Spanner\/Operation.php#L331","description":"<p>Create a Snapshot instance from a response object.<\/p>","examples":[],"resources":[],"params":[{"name":"session","description":"<p>The session the snapshot belongs to.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"res","description":"<p>The createTransaction response.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/snapshot\">Google\\Cloud\\Spanner\\Snapshot<\/a>"],"description":""}]}]}